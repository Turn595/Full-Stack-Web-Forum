{"remainingRequest":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\src\\components\\publishArticle.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\src\\components\\publishArticle.vue","mtime":1618004406990},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHbG9iYWxNaXhpbiBmcm9tICJAL21peGlucy9nbG9iYWwtbWl4aW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInB1Ymxpc2hBcnRpY2xlIiwKICBtaXhpbnM6W0dsb2JhbE1peGluXSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbmV3QXJ0aWNsZTogewogICAgICAgIHRpdGxlOiAnJywKICAgICAgICBzdWJ0aXRsZTogJycsCiAgICAgICAgYmFubmVyVVJMOiAnJywKICAgICAgICBib2R5OiAnJywKICAgICAgICB0b2tlbjogJycsCiAgICAgICAgdXNlcm5hbWU6ICcnCiAgICAgIH0sCiAgICAgIHRhZ3M6IFtdLAogICAgICByZXNwQXJ0aWNsZTogewogICAgICAgIHR5cGU6T2JqZWN0CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU3VibWl0KCkgewogICAgICBhbGVydChKU09OLnN0cmluZ2lmeSh0aGlzLm5ld0FydGljbGUpKQogICAgfSwKICAgIG9uUmVzZXQoKSB7CiAgICAgIC8vIFJlc2V0IG91ciBmb3JtIHZhbHVlcwogICAgICB0aGlzLm5ld0FydGljbGUudGl0bGUgPSAnJwogICAgICB0aGlzLm5ld0FydGljbGUuc3VidGl0bGUgPSAnJwogICAgICB0aGlzLm5ld0FydGljbGUuYm9keSA9ICcnCiAgICAgIHRoaXMubmV3QXJ0aWNsZS5iYW5uZXJVUkwgPSAnJwogICAgICB0aGlzLnRhZ3MgPSBbXQogICAgfSwKICAgIHBvc3RBcnRpY2xlKCl7CiAgICAgIHRoaXMubmV3QXJ0aWNsZS50b2tlbiA9IHRoaXMuZ2V0Q29va2llKCd0b2tlbicpOwogICAgICB0aGlzLm5ld0FydGljbGUudXNlcm5hbWUgPSB0aGlzLmdldENvb2tpZSgndXNlcm5hbWUnKTsKICAgICAgdGhpcy5jYWxsQVBJKHRoaXMuQVJUSUNMRV9VUkwsJ3Bvc3QnLCB7dGl0bGU6dGhpcy5uZXdBcnRpY2xlLnRpdGxlLHN1YnRpdGxlOnRoaXMubmV3QXJ0aWNsZS5zdWJ0aXRsZSwKICAgICAgICBiYW5uZXJVUkw6dGhpcy5uZXdBcnRpY2xlLmJhbm5lclVSTCxib2R5OnRoaXMubmV3QXJ0aWNsZS5ib2R5LHRva2VuOnRoaXMubmV3QXJ0aWNsZS50b2tlbix1c2VybmFtZTp0aGlzLm5ld0FydGljbGUudXNlcm5hbWV9KQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLnJlc3BBcnRpY2xlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIH0pCiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICB0aGlzLnBvc3RUYWdzKCk7CiAgICAgICAgICB9KTsKICAgIH0sCiAgICBwb3N0VGFncygpewogICAgICB0aGlzLmNhbGxBUEkodGhpcy5UQUdfVVJMLCdwb3N0Jywge3RhZzp0aGlzLnRhZ3MsYXJ0aWNsZUlkOnRoaXMucmVzcEFydGljbGUuaWQsdG9rZW46dGhpcy5uZXdBcnRpY2xlLnRva2VufSkKICAgICAgLnRoZW4oKCk9PnsKICAgICAgICBhbGVydCgnQXJ0aWNsZSBQb3N0ZWQgU3VjY2Vzc2Z1bGx5LicpOwogICAgICB9KQogICAgICAuZmluYWxseSgoKT0+ewogICAgICAgIHRoaXMub25SZXNldCgpOwogICAgICB9KQoKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0aXRsZVN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy5uZXdBcnRpY2xlLnRpdGxlLmxlbmd0aCA9PT0gMCA/IG51bGwgOiB0aGlzLm5ld0FydGljbGUudGl0bGUubGVuZ3RoID4gNCA/CiAgICAgICAgICB0aGlzLm5ld0FydGljbGUudGl0bGUubGVuZ3RoIDwgNTA6IGZhbHNlOwogICAgfSwKICAgIHN1YnRpdGxlU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm5ld0FydGljbGUuc3VidGl0bGUubGVuZ3RoID09PSAwID8gbnVsbCA6IHRoaXMubmV3QXJ0aWNsZS5zdWJ0aXRsZS5sZW5ndGggPiA0ID8KICAgICAgICAgIHRoaXMubmV3QXJ0aWNsZS5zdWJ0aXRsZS5sZW5ndGggPCA1MDogZmFsc2U7CiAgICB9LAogICAgYm9keVN0YXRlKCkgewogICAgICByZXR1cm4gdGhpcy5uZXdBcnRpY2xlLmJvZHkubGVuZ3RoID09PSAwID8gbnVsbCA6IHRoaXMubmV3QXJ0aWNsZS5ib2R5Lmxlbmd0aCA+IDQgPwogICAgICAgICAgdGhpcy5uZXdBcnRpY2xlLmJvZHkubGVuZ3RoIDwgNTAwMDogZmFsc2U7CiAgICB9LAogICAgc3VibWl0U3RhdGUoKSB7CiAgICAgIHJldHVybiAhKHRoaXMudGl0bGVTdGF0ZSAmJiB0aGlzLnN1YnRpdGxlU3RhdGUgJiYgdGhpcy5ib2R5U3RhdGUpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["publishArticle.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"publishArticle.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n  <div class=\"mt-5 border p-5 bg-light\">\n\n    <div>\n      <b-jumbotron header=\"Article Creator\" lead=\"Unleash Your Creativity.\"></b-jumbotron>\n    </div>\n\n    <b-form @submit=\"onSubmit\" @reset=\"onReset\">\n\n      <b-form-group label=\"Main Title:\">\n        <b-form-input\n            v-model=\"newArticle.title\"\n            required\n            placeholder=\"Main Title\"\n            class=\"form-control-lg\"\n            :state=\"titleState\"\n        ></b-form-input>\n        <b-form-invalid-feedback id=\"input-live-feedback\">\n          Enter a title between 5 and 50 characters.\n        </b-form-invalid-feedback>\n      </b-form-group>\n\n      <b-form-group label=\"Secondary Title:\">\n        <b-form-input\n            v-model=\"newArticle.subtitle\"\n            required\n            placeholder=\"Secondary Title\"\n            class=\"form-control-lg\"\n            :state=\"subtitleState\"\n        ></b-form-input>\n        <b-form-invalid-feedback id=\"input-live-feedback\">\n          Enter a secondary title between 5 and 50 characters.\n        </b-form-invalid-feedback>\n      </b-form-group>\n\n      <b-form-group label=\"Banner Image URL\">\n        <b-form-input\n            v-model=\"newArticle.bannerURL\"\n            required\n            placeholder=\"Banner Image URL\"\n            class=\"form-control-lg\"\n        ></b-form-input>\n      </b-form-group>\n\n      <b-form-group id=\"input-group-3\" label=\"Content Body\" label-for=\"input-3\">\n        <b-form-textarea\n            v-model=\"newArticle.body\"\n            required\n            placeholder=\"Main Content\"\n            class=\"form-control-lg\"\n            :state=\"bodyState\"\n        ></b-form-textarea>\n\n        <b-form-invalid-feedback id=\"input-live-feedback\">\n          Enter a secondary title between 5 and 50 characters.\n        </b-form-invalid-feedback>\n      </b-form-group>\n\n      <b-form-group>\n        <div>\n          <label>Enter new tags separated by space</label>\n          <b-form-tags\n              input-id=\"tags-remove-on-delete\"\n              :input-attrs=\"{ 'aria-describedby': 'tags-remove-on-delete-help' }\"\n              v-model=tags\n              separator=\" \"\n              placeholder=\"Enter new tags separated by space\"\n              remove-on-delete\n              no-add-on-enter\n          ></b-form-tags>\n          <b-form-text id=\"tags-remove-on-delete-help\" class=\"mt-2\">\n            Press <kbd>Backspace</kbd> to remove the last tag entered\n          </b-form-text>\n        </div>\n      </b-form-group>\n\n      <b-form-group label-for=\"input-3\">\n        <b-button class=\"m-2\" @click=\"postArticle\" variant=\"success\" :disabled=\"submitState\">Create</b-button>\n      </b-form-group>\n\n      <b-button class=\"m-2\" type=\"reset\" variant=\"danger\">Reset</b-button>\n    </b-form>\n  </div>\n\n</template>\n\n<script>\nimport GlobalMixin from \"@/mixins/global-mixin\";\nexport default {\n  name: \"publishArticle\",\n  mixins:[GlobalMixin],\n  data() {\n    return {\n      newArticle: {\n        title: '',\n        subtitle: '',\n        bannerURL: '',\n        body: '',\n        token: '',\n        username: ''\n      },\n      tags: [],\n      respArticle: {\n        type:Object\n      }\n    }\n  },\n  methods: {\n    onSubmit() {\n      alert(JSON.stringify(this.newArticle))\n    },\n    onReset() {\n      // Reset our form values\n      this.newArticle.title = ''\n      this.newArticle.subtitle = ''\n      this.newArticle.body = ''\n      this.newArticle.bannerURL = ''\n      this.tags = []\n    },\n    postArticle(){\n      this.newArticle.token = this.getCookie('token');\n      this.newArticle.username = this.getCookie('username');\n      this.callAPI(this.ARTICLE_URL,'post', {title:this.newArticle.title,subtitle:this.newArticle.subtitle,\n        bannerURL:this.newArticle.bannerURL,body:this.newArticle.body,token:this.newArticle.token,username:this.newArticle.username})\n          .then(response => {\n            this.respArticle = response.data;\n          })\n          .finally(() => {\n          this.postTags();\n          });\n    },\n    postTags(){\n      this.callAPI(this.TAG_URL,'post', {tag:this.tags,articleId:this.respArticle.id,token:this.newArticle.token})\n      .then(()=>{\n        alert('Article Posted Successfully.');\n      })\n      .finally(()=>{\n        this.onReset();\n      })\n\n    }\n  },\n  computed: {\n    titleState() {\n      return this.newArticle.title.length === 0 ? null : this.newArticle.title.length > 4 ?\n          this.newArticle.title.length < 50: false;\n    },\n    subtitleState() {\n      return this.newArticle.subtitle.length === 0 ? null : this.newArticle.subtitle.length > 4 ?\n          this.newArticle.subtitle.length < 50: false;\n    },\n    bodyState() {\n      return this.newArticle.body.length === 0 ? null : this.newArticle.body.length > 4 ?\n          this.newArticle.body.length < 5000: false;\n    },\n    submitState() {\n      return !(this.titleState && this.subtitleState && this.bodyState);\n    }\n  }\n}\n</script>"]}]}