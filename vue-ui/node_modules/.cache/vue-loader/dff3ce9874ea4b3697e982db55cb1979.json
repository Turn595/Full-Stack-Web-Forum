{"remainingRequest":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\src\\App.vue","mtime":1618004406986},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andrew\\Saskpolytech\\CWEB-FinalProject\\cweb.2020.f09\\vue-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBHbG9iYWxNaXhpbiBmcm9tICJAL21peGlucy9nbG9iYWwtbWl4aW4iOwogIGV4cG9ydCBkZWZhdWx0IHsKCiAgICBtaXhpbnM6W0dsb2JhbE1peGluXSwKCiAgICBkYXRhKCl7CiAgICAgcmV0dXJuewogICAgICAgdXNlcm5hbWU6ICcnLAogICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgZW1haWw6ICcnLAogICAgICAgdG9rZW46ICcnLAogICAgIH0KICAgIH0sCgogICAgbWV0aG9kczp7CgogICAgICBoaWRlTW9kYWwoKXsKICAgICAgICB0aGlzLnBhc3N3b3JkID0gJyc7CiAgICAgICAgdGhpcy51c2VybmFtZSA9ICcnOwogICAgICAgIHRoaXMuZW1haWwgPSAnJzsKICAgICAgICB0aGlzLmludmFsaWQgPSBmYWxzZTsKICAgICAgICB0aGlzLiRyZWZzWydsb2dpbi1tb2RhbCddLmhpZGUoKTsKICAgICAgICB0aGlzLiRyZWZzWydyZWdpc3Rlci1tb2RhbCddLmhpZGUoKTsKICAgICAgICB0aGlzLiRyZWZzWydjaGFuZ2VQYXNzd29yZC1tb2RhbCddLmhpZGUoKTsKICAgICAgICB0aGlzLiRyZWZzWydkZWxldGUtbW9kYWwnXS5oaWRlKCk7CiAgICAgIH0sCgogICAgICBsb2dpbigpewogICAgICAgIGlmKHRoaXMucGFzc3dvcmRTdGF0ZSAmJiB0aGlzLnVzZXJuYW1lU3RhdGUpCiAgICAgICAgewogICAgICAgICAgdGhpcy5jYWxsQVBJKHRoaXMuVVNFUl9VUkwsICdHRVQnLHt1c2VybmFtZTp0aGlzLnVzZXJuYW1lLHBhc3N3b3JkOnRoaXMucGFzc3dvcmR9KQogICAgICAgICAgLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLnRva2VuID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZSgndG9rZW4nLCB0aGlzLnRva2VuKTsKICAgICAgICAgICAgICB0aGlzLnNldENvb2tpZSgndXNlcm5hbWUnLCB0aGlzLnVzZXJuYW1lKTsKICAgICAgICAgICAgICB0aGlzLnRva2VuID0gIiI7CiAgICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9ICIiOwogICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goKCk9PnsKICAgICAgICAgICAgYWxlcnQoIlVzZXJuYW1lIG9yIFBhc3N3b3JkIGlzIEludmFsaWQiKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKCiAgICAgIGxvZ291dCgpewogICAgICAgIHRoaXMuZGVsZXRlQ29va2llKCd1c2VybmFtZScpOwogICAgICAgIHRoaXMuZGVsZXRlQ29va2llKCd0b2tlbicpOwogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfSwKCiAgICAgIHJlZ2lzdGVyKCkgewogICAgICAgIGlmICh0aGlzLnBhc3N3b3JkU3RhdGUgJiYgdGhpcy51c2VybmFtZVN0YXRlICYmIHRoaXMuZW1haWxTdGF0ZSkgewogICAgICAgICAgdGhpcy5jYWxsQVBJKHRoaXMuVVNFUl9VUkwsICdQT1NUJywge3VzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwgZW1haWw6IHRoaXMuZW1haWx9KQogICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDIwMSkgewogICAgICAgICAgICAgICAgICB0aGlzLmxvZ2luKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICBhbGVydCgiVGhlIFVzZXJuYW1lIG9yIEVtYWlsIGlzIGFscmVhZHkgaW4gdXNlIik7CiAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSwKICAgICAgY2hhbmdlUGFzc3dvcmQoKXsKICAgICAgICBpZiAodGhpcy5wYXNzd29yZFN0YXRlKSB7CiAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5nZXRDb29raWUoJ3Rva2VuJyk7CiAgICAgICAgICB0aGlzLnVzZXJuYW1lID0gdGhpcy5nZXRDb29raWUoJ3VzZXJuYW1lJyk7CiAgICAgICAgICB0aGlzLmNhbGxBUEkodGhpcy5VU0VSX1VSTCwgJ1BVVCcsIHt1c2VybmFtZTogdGhpcy51c2VybmFtZSwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsdG9rZW46IHRoaXMudG9rZW59KQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy5sb2dvdXQoKTsKICAgICAgICAgICAgICB9KQogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVsZXRlQWNjb3VudCgpewogICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMuZ2V0Q29va2llKCd0b2tlbicpOwogICAgICAgICAgdGhpcy51c2VybmFtZSA9IHRoaXMuZ2V0Q29va2llKCd1c2VybmFtZScpOwogICAgICAgICAgdGhpcy5jYWxsQVBJKHRoaXMuVVNFUl9VUkwsICdERUxFVEUnLCB7dXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsdG9rZW46IHRoaXMudG9rZW59KQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgICAgICAgICAgfSkKCiAgICAgIH0KCiAgICB9LAoKICAgIGNvbXB1dGVkOnsKICAgICAgcGFzc3dvcmRTdGF0ZSgpewogICAgICAgcmV0dXJuIHRoaXMucGFzc3dvcmQubGVuZ3RoID09PSAwID8gbnVsbCA6IHRoaXMucGFzc3dvcmQubGVuZ3RoID49IDYgPwogICAgICAgICAgIHRoaXMucGFzc3dvcmQubGVuZ3RoIDw9IDYwOiBmYWxzZQogICAgICB9LAogICAgICB1c2VybmFtZVN0YXRlKCl7CiAgICAgICByZXR1cm4gdGhpcy51c2VybmFtZS5sZW5ndGggPT09IDAgPyBudWxsIDogL15cdyokLy50ZXN0KHRoaXMudXNlcm5hbWUpOwogICAgICB9LAogICAgICBlbWFpbFN0YXRlKCl7CiAgICAgICByZXR1cm4gdGhpcy5lbWFpbC5sZW5ndGggPT09IDAgPyBudWxsIDogL1xTK0BcUytcLlxTKy8udGVzdCh0aGlzLmVtYWlsKTsKICAgICAgfSwKICAgICAgbG9naW5WYWxpZCgpewogICAgICAgIHJldHVybiAhICh0aGlzLnBhc3N3b3JkU3RhdGUgJiYgdGhpcy51c2VybmFtZSk7CiAgICAgIH0sCiAgICAgIGxvZ2dlZEluKCl7CiAgICAgICByZXR1cm4gISAodGhpcy5nZXRDb29raWUoJ3VzZXJuYW1lJykgPT09ICIiKTsKICAgICAgfQogICAgfQogIH0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqKA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n\n    <div class=\"border \">\n      <b-navbar toggleable=\"lg\" class=\"navbar-dark\" type=\"\" variant=\"primary\">\n\n        <b-navbar-toggle target=\"nav-collapse\"></b-navbar-toggle>\n\n        <b-collapse id=\"nav-collapse\" type=\"bg-ligt\" is-nav>\n\n          <b-navbar-nav>\n              <li class=\"nav-item active\">\n                <a class=\"nav-link\"><b-nav-item to=\"/\" exact-active-class=\"active\" >Home</b-nav-item><span class=\"sr-only\">(current)</span></a>\n              </li>\n              <li class=\"nav-item\">\n                <a class=\"nav-link\"><b-nav-item to=\"/about\" exact-active-class=\"active\">About</b-nav-item></a>\n              </li>\n              <li class=\"nav-item\">\n                <a class=\"nav-link\"><b-nav-item to=\"/contact\" exact-active-class=\"active\">Contact</b-nav-item></a>\n              </li>\n          </b-navbar-nav>\n\n          <b-navbar-nav class=\"ml-auto\">\n              <b-nav-item-dropdown right>\n                <template #button-content>\n                  <em>Profile</em>\n                </template>\n                <b-dropdown-item v-show=\"loggedIn\" @click=\"logout\">Sign Out</b-dropdown-item>\n                <b-dropdown-item v-b-modal=\"'login-modal'\" v-show=\"!loggedIn\">Sign In</b-dropdown-item>\n                <b-dropdown-item v-b-modal=\"'changePassword-modal'\" v-show=\"loggedIn\">Change Password</b-dropdown-item>\n                <b-dropdown-item v-b-modal=\"'delete-modal'\" v-show=\"loggedIn\">Delete Account</b-dropdown-item>\n                <b-dropdown-item v-b-modal=\"'register-modal'\" v-show=\"!loggedIn\">Register</b-dropdown-item>\n                <b-dropdown-item b-nav-item to=\"/publish\" v-show=\"loggedIn\">Publish New Article</b-dropdown-item>\n              </b-nav-item-dropdown>\n          </b-navbar-nav>\n\n        </b-collapse>\n      </b-navbar>\n    </div>\n\n    <!-- Password Modal-->\n    <b-modal ref=\"login-modal\" id=\"login-modal\" hide-header-close hide-footer no-close-on-esc no-close-on-backdrop title=\"Login to an Existing Account\">\n      <b-form>\n\n        <b-form-group label=\"Username:\">\n          <b-form-input\n              v-model=\"username\"\n              required\n              placeholder=\"Username\"\n              :state=\"usernameState\"\n          ></b-form-input>\n          <!-- Invalid Feedback -->\n          <b-form-invalid-feedback id=\"input-live-feedback\">\n            Username must have at least 1 character and only include letters,numbers, and underscores\n          </b-form-invalid-feedback>\n        </b-form-group>\n\n        <b-form-group>\n          <b-form-input\n              v-model=\"password\"\n              required\n              :state=\"passwordState\"\n              placeholder=\"Password\"\n              type=\"password\"\n              max=\"60\"\n          ></b-form-input>\n          <!-- Invalid Feedback -->\n          <b-form-invalid-feedback id=\"input-live-feedback\">\n            Password must be between 6 and 60 characters\n          </b-form-invalid-feedback>\n        </b-form-group>\n\n        <b-button class=\"float-right\"  variant=\"primary\" @click=\"login\" :disabled=\"loginValid\">Login</b-button>\n        <b-button class=\"float-right mx-3\" @click=\"hideModal\">Cancel</b-button>\n\n      </b-form>\n    </b-modal>\n\n    <!--register modal -->\n    <b-modal ref=\"register-modal\" id=\"register-modal\" hide-header-close hide-footer no-close-on-esc no-close-on-backdrop title=\"Register a New Account\">\n      <b-form>\n\n        <b-form-group label=\"Username:\">\n          <b-form-input\n              v-model=\"username\"\n              required\n              placeholder=\"Username\"\n              :state=\"usernameState\"\n          ></b-form-input>\n          <!-- Invalid Feedback -->\n          <b-form-invalid-feedback id=\"input-live-feedback\">\n            Username must have at least 1 character and only include letters,numbers, and underscores\n          </b-form-invalid-feedback>\n        </b-form-group>\n\n        <b-form-group label=\"Email\">\n          <b-form-input\n          v-model=\"email\"\n          required\n          placeholder=\"Email\"\n          :state=\"emailState\"\n          >\n          </b-form-input>\n          <b-form-invalid-feedback id=\"input-live-feedback\">\n            Email must be a valid email address\n          </b-form-invalid-feedback>\n        </b-form-group>\n\n        <b-form-group label=\"Password\">\n          <b-form-input\n              v-model=\"password\"\n              required\n              :state=\"passwordState\"\n              placeholder=\"Password\"\n              type=\"password\"\n              max=\"60\"\n          ></b-form-input>\n          <b-form-invalid-feedback id=\"input-live-feedback\">\n            Password must be between 6 and 60 characters\n          </b-form-invalid-feedback>\n        </b-form-group>\n\n        <b-button class=\"float-right\"  variant=\"primary\" @click=\"register\" :disabled=\"loginValid\">Register</b-button>\n        <b-button class=\"float-right mx-3\" @click=\"hideModal\">Cancel</b-button>\n\n      </b-form>\n    </b-modal>\n\n    <!-- Change Password Modal-->\n    <b-modal ref=\"changePassword-modal\" id=\"changePassword-modal\" hide-header-close hide-footer no-close-on-esc no-close-on-backdrop title=\"Change your password\">\n      <b-form>\n        <b-form-group>\n          <b-form-input\n              v-model=\"password\"\n              required\n              :state=\"passwordState\"\n              placeholder=\"Password\"\n              type=\"password\"\n              max=\"60\"\n          ></b-form-input>\n          <!-- Invalid Feedback -->\n          <b-form-invalid-feedback id=\"input-live-feedback\">\n            Password must be between 6 and 60 characters\n          </b-form-invalid-feedback>\n        </b-form-group>\n\n        <b-button class=\"float-right\"  variant=\"primary\" @click=\"changePassword\" :disabled=\"!passwordState\">Login</b-button>\n        <b-button class=\"float-right mx-3\" @click=\"hideModal\">Cancel</b-button>\n      </b-form>\n    </b-modal>\n\n    <!-- Change Password Modal-->\n    <b-modal ref=\"delete-modal\" id=\"delete-modal\" hide-header-close hide-footer no-close-on-esc no-close-on-backdrop title=\"Delete your Account\">\n      <b-form>\n        <h2>Are You sure you want to delete your account?</h2>\n        <b-button class=\"float-right\"  variant=\"danger\" @click=\"deleteAccount\">DELETE</b-button>\n        <b-button class=\"float-right mx-3\" @click=\"hideModal\">Cancel</b-button>\n      </b-form>\n    </b-modal>\n\n    <router-view class=\"container-xl\"/>\n  </div>\n</template>\n\n<script>\nimport GlobalMixin from \"@/mixins/global-mixin\";\n  export default {\n\n    mixins:[GlobalMixin],\n\n    data(){\n     return{\n       username: '',\n       password: '',\n       email: '',\n       token: '',\n     }\n    },\n\n    methods:{\n\n      hideModal(){\n        this.password = '';\n        this.username = '';\n        this.email = '';\n        this.invalid = false;\n        this.$refs['login-modal'].hide();\n        this.$refs['register-modal'].hide();\n        this.$refs['changePassword-modal'].hide();\n        this.$refs['delete-modal'].hide();\n      },\n\n      login(){\n        if(this.passwordState && this.usernameState)\n        {\n          this.callAPI(this.USER_URL, 'GET',{username:this.username,password:this.password})\n          .then(response=>{\n            if(response.status === 200) {\n              this.token = response.data;\n              this.setCookie('token', this.token);\n              this.setCookie('username', this.username);\n              this.token = \"\";\n              this.username = \"\";\n              window.location.reload();\n            }\n          }).catch(()=>{\n            alert(\"Username or Password is Invalid\");\n          });\n        }\n      },\n\n      logout(){\n        this.deleteCookie('username');\n        this.deleteCookie('token');\n        window.location.reload();\n      },\n\n      register() {\n        if (this.passwordState && this.usernameState && this.emailState) {\n          this.callAPI(this.USER_URL, 'POST', {username: this.username, password: this.password, email: this.email})\n              .then(response => {\n                if (response.status === 201) {\n                  this.login();\n                }\n              }).catch(() => {\n            alert(\"The Username or Email is already in use\");\n          })\n        }\n      },\n      changePassword(){\n        if (this.passwordState) {\n          this.token = this.getCookie('token');\n          this.username = this.getCookie('username');\n          this.callAPI(this.USER_URL, 'PUT', {username: this.username, password: this.password,token: this.token})\n              .then(() => {\n                  this.logout();\n              })\n        }\n      },\n      deleteAccount(){\n          this.token = this.getCookie('token');\n          this.username = this.getCookie('username');\n          this.callAPI(this.USER_URL, 'DELETE', {username: this.username,token: this.token})\n              .then(() => {\n                this.logout();\n              })\n\n      }\n\n    },\n\n    computed:{\n      passwordState(){\n       return this.password.length === 0 ? null : this.password.length >= 6 ?\n           this.password.length <= 60: false\n      },\n      usernameState(){\n       return this.username.length === 0 ? null : /^\\w*$/.test(this.username);\n      },\n      emailState(){\n       return this.email.length === 0 ? null : /\\S+@\\S+\\.\\S+/.test(this.email);\n      },\n      loginValid(){\n        return ! (this.passwordState && this.username);\n      },\n      loggedIn(){\n       return ! (this.getCookie('username') === \"\");\n      }\n    }\n  }\n</script>\n\n<style scoped>\na, em{\n  color:white;\n}\n</style>"]}]}